# 垃圾回收机制及面试题分析

![](../.gitbook/assets/image%20%2815%29.png)

#### JVM内存结构说一下



#### 1.什么情况下内存栈溢出？

* 无限递归调用，StackOverflowError
* 不断地创建线程，因为线程需要内存空间的，OutOfMemoryError - OOM



#### 2.描述new一个对象的过程？

![](../.gitbook/assets/image%20%2816%29.png)



#### Java对象会不会分配到栈中？

会

#### 如果判断一个对象是否被回收，有哪些算法，实际虚拟机使用最多的是什么？

* 引用计数法：相互引用
* 可达性分析：常用的



#### GC收集算法有哪些？他们的特点是什么？

* 复制算法

  * 实现简单，运行高效
  * 内存复制、没有内存碎片
  * 利用率只有一半

![](../.gitbook/assets/image%20%2811%29.png)

* 标注-清除算法，适合老年代

  * 执行效率不稳定
  * 内存碎片导致提前GC

![](../.gitbook/assets/image%20%2814%29.png)

* 标记-整理算法

  * 对象移动
  * 引用更新
  * 用户线程暂停
  * 没有内存碎片

![](../.gitbook/assets/image%20%2812%29.png)

final

* 类（不能继承，锁定，不能修改，效率）
* 变量（成员变量，局部变量），就是常量了

finally

* try catch里面的，解决不管抛不抛出异常，用于释放资源

finalize

* 是object的方法，垃圾回收的时候会触发



